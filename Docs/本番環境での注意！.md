本番環境では app.config['PRODUCTION'] = True を設定して、詳細なエラー情報をユーザーに表示しないようにすることをお勧めします。


## 本番環境（.app への変換）での .env ファイルの扱い方

概要
	•	macOS .app バンドルとしてエンドユーザーに配布する際、認証情報や設定をどのように管理するかを示します。
	•	シングルユーザー想定かつ、ローカルのみで動作するアプリを前提としています。

⸻

1. .env の配置方針
	1.	ソースコード管理 (Git 等) からは除外
	•	.gitignore に .env を設定し、リポジトリには含めない。
	•	機密度の高いキーを含む場合、誤ってコミットしないよう注意。
	2.	.app バンドルへの同梱
	•	ユーザーが「パッケージの内容を表示」すると .env の中身は見られるが、シングルユーザー用ローカルアプリなので大きなセキュリティ問題になりにくい。
	•	Supabase の Anon Key 程度であれば同梱しても問題ない。

⸻

1. .env 内の各設定と扱い

2.1 Flask Secret Key
	•	項目名: FLASK_SECRET_KEY
	•	扱い方:
	•	ローカル環境で Flask セッションの署名に使用。
	•	シングルユーザー想定なので、共通キーでも大きな問題は起きにくい。

2.2 Supabase アノニマスキー
	•	項目名: SUPABASE_URL, SUPABASE_ANON_KEY
	•	扱い方:
	•	Anon Key はフロントエンド公開を想定したキーなので、.app バンドルに同梱しても問題ない（RLS 等の権限設定は必須）。
	•	Service Key は含めないよう注意する。

2.3 Selenium ドライバパス
	•	項目名: SELENIUM_DRIVER_PATH
	•	内容例: SELENIUM_DRIVER_PATH=./resources/chromedriver
	•	扱い方:
	•	.app バンドルに chromedriver を同梱する場合は、相対パスで指定しておく。
	•	ユーザー環境によって異なるパスを使用しないため、ビルド時に固定化して配布する。

⸻

1. 配布時の注意点
	1.	機密度の高いキーの取扱い
	•	シングルユーザー向けのローカルアプリなら、Flask Secret Key や Anon Key が同梱されても大きなリスクは少ない。
	•	ただし、本当に秘匿すべき情報（Service Key など）は含めない。
	2.	ユーザーが .env を編集しない前提
	•	ユーザー入力不要にするため、あらかじめ .env に値を入れた状態でビルドして配布する。
	3.	バージョン更新時
	•	.app を差し替えると .env も上書きされるため、アプリのアップデートでユーザーごとの設定が消えるリスクに注意する。
